<!DOCTYPE html>
<meta https-equiv="Content-Type" content="text/html; charset=UTF-8" /> </meta> 

<html>
<head>
   <!-- Practice css --> 
  <style>
    .large {
      color:#abcdef;
      font-family: arial;
      font-size: 15pt;
    }

    .largefont{

      color:#0066FF;
      font-family: arial;
      font-size:0pt;
    }

  </style>

  <title>
    五子棋
  </title>
</head>

<body bgcolor="black">

  <table id="stb" class = "largefont">
  　　  <tr>
      <td onclick="change_td(0,0)" width="30" height = "30">_</td>
      <td onclick="change_td(0,1)" width="30" height = "30">_</td>
      <td onclick="change_td(0,2)" width="30" height = "30">_</td>
      <td onclick="change_td(0,3)" width="30" height = "30">_</td>
      <td onclick="change_td(0,4)" width="30" height = "30">_</td>
      <td onclick="change_td(0,5)" width="30" height = "30">_</td>
      <td onclick="change_td(0,6)" width="30" height = "30">_</td>
      <td onclick="change_td(0,7)" width="30" height = "30">_</td>
      <td onclick="change_td(0,8)" width="30" height = "30">_</td>
      <td onclick="change_td(0,9)" width="30" height = "30">_</td>
      <td onclick="change_td(0,10)" width="30" height = "30">_</td>
      <td onclick="change_td(0,11)" width="30" height = "30">_</td>
      <td onclick="change_td(0,12)" width="30" height = "30">_</td>
      <td onclick="change_td(0,13)" width="30" height = "30">_</td>
      <td onclick="change_td(0,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(1,0)" width="30" height = "30">_</td>
      <td onclick="change_td(1,1)" width="30" height = "30">_</td>
      <td onclick="change_td(1,2)" width="30" height = "30">_</td>
      <td onclick="change_td(1,3)" width="30" height = "30">_</td>
      <td onclick="change_td(1,4)" width="30" height = "30">_</td>
      <td onclick="change_td(1,5)" width="30" height = "30">_</td>
      <td onclick="change_td(1,6)" width="30" height = "30">_</td>
      <td onclick="change_td(1,7)" width="30" height = "30">_</td>
      <td onclick="change_td(1,8)" width="30" height = "30">_</td>
      <td onclick="change_td(1,9)" width="30" height = "30">_</td>
      <td onclick="change_td(1,10)" width="30" height = "30">_</td>
      <td onclick="change_td(1,11)" width="30" height = "30">_</td>
      <td onclick="change_td(1,12)" width="30" height = "30">_</td>
      <td onclick="change_td(1,13)" width="30" height = "30">_</td>
      <td onclick="change_td(1,14)" width="30" height = "30">_</td>
    </tr>
    
    <tr>
      <td onclick="change_td(2,0)" width="30" height = "30">_</td>
      <td onclick="change_td(2,1)" width="30" height = "30">_</td>
      <td onclick="change_td(2,2)" width="30" height = "30">_</td>
      <td onclick="change_td(2,3)" width="30" height = "30">_</td>
      <td onclick="change_td(2,4)" width="30" height = "30">_</td>
      <td onclick="change_td(2,5)" width="30" height = "30">_</td>
      <td onclick="change_td(2,6)" width="30" height = "30">_</td>
      <td onclick="change_td(2,7)" width="30" height = "30">_</td>
      <td onclick="change_td(2,8)" width="30" height = "30">_</td>
      <td onclick="change_td(2,9)" width="30" height = "30">_</td>
      <td onclick="change_td(2,10)" width="30" height = "30">_</td>
      <td onclick="change_td(2,11)" width="30" height = "30">_</td>
      <td onclick="change_td(2,12)" width="30" height = "30">_</td>
      <td onclick="change_td(2,13)" width="30" height = "30">_</td>
      <td onclick="change_td(2,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(3,0)" width="30" height = "30">_</td>
      <td onclick="change_td(3,1)" width="30" height = "30">_</td>
      <td onclick="change_td(3,2)" width="30" height = "30">_</td>
      <td onclick="change_td(3,3)" width="30" height = "30">_</td>
      <td onclick="change_td(3,4)" width="30" height = "30">_</td>
      <td onclick="change_td(3,5)" width="30" height = "30">_</td>
      <td onclick="change_td(3,6)" width="30" height = "30">_</td>
      <td onclick="change_td(3,7)" width="30" height = "30">_</td>
      <td onclick="change_td(3,8)" width="30" height = "30">_</td>
      <td onclick="change_td(3,9)" width="30" height = "30">_</td>
      <td onclick="change_td(3,10)" width="30" height = "30">_</td>
      <td onclick="change_td(3,11)" width="30" height = "30">_</td>
      <td onclick="change_td(3,12)" width="30" height = "30">_</td>
      <td onclick="change_td(3,13)" width="30" height = "30">_</td>
      <td onclick="change_td(3,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(4,0)" width="30" height = "30">_</td>
      <td onclick="change_td(4,1)" width="30" height = "30">_</td>
      <td onclick="change_td(4,2)" width="30" height = "30">_</td>
      <td onclick="change_td(4,3)" width="30" height = "30">_</td>
      <td onclick="change_td(4,4)" width="30" height = "30">_</td>
      <td onclick="change_td(4,5)" width="30" height = "30">_</td>
      <td onclick="change_td(4,6)" width="30" height = "30">_</td>
      <td onclick="change_td(4,7)" width="30" height = "30">_</td>
      <td onclick="change_td(4,8)" width="30" height = "30">_</td>
      <td onclick="change_td(4,9)" width="30" height = "30">_</td>
      <td onclick="change_td(4,10)" width="30" height = "30">_</td>
      <td onclick="change_td(4,11)" width="30" height = "30">_</td>
      <td onclick="change_td(4,12)" width="30" height = "30">_</td>
      <td onclick="change_td(4,13)" width="30" height = "30">_</td>
      <td onclick="change_td(4,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(5,0)" width="30" height = "30">_</td>
      <td onclick="change_td(5,1)" width="30" height = "30">_</td>
      <td onclick="change_td(5,2)" width="30" height = "30">_</td>
      <td onclick="change_td(5,3)" width="30" height = "30">_</td>
      <td onclick="change_td(5,4)" width="30" height = "30">_</td>
      <td onclick="change_td(5,5)" width="30" height = "30">_</td>
      <td onclick="change_td(5,6)" width="30" height = "30">_</td>
      <td onclick="change_td(5,7)" width="30" height = "30">_</td>
      <td onclick="change_td(5,8)" width="30" height = "30">_</td>
      <td onclick="change_td(5,9)" width="30" height = "30">_</td>
      <td onclick="change_td(5,10)" width="30" height = "30">_</td>
      <td onclick="change_td(5,11)" width="30" height = "30">_</td>
      <td onclick="change_td(5,12)" width="30" height = "30">_</td>
      <td onclick="change_td(5,13)" width="30" height = "30">_</td>
      <td onclick="change_td(5,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(6,0)" width="30" height = "30">_</td>
      <td onclick="change_td(6,1)" width="30" height = "30">_</td>
      <td onclick="change_td(6,2)" width="30" height = "30">_</td>
      <td onclick="change_td(6,3)" width="30" height = "30">_</td>
      <td onclick="change_td(6,4)" width="30" height = "30">_</td>
      <td onclick="change_td(6,5)" width="30" height = "30">_</td>
      <td onclick="change_td(6,6)" width="30" height = "30">_</td>
      <td onclick="change_td(6,7)" width="30" height = "30">_</td>
      <td onclick="change_td(6,8)" width="30" height = "30">_</td>
      <td onclick="change_td(6,9)" width="30" height = "30">_</td>
      <td onclick="change_td(6,10)" width="30" height = "30">_</td>
      <td onclick="change_td(6,11)" width="30" height = "30">_</td>
      <td onclick="change_td(6,12)" width="30" height = "30">_</td>
      <td onclick="change_td(6,13)" width="30" height = "30">_</td>
      <td onclick="change_td(6,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(7,0)" width="30" height = "30">_</td>
      <td onclick="change_td(7,1)" width="30" height = "30">_</td>
      <td onclick="change_td(7,2)" width="30" height = "30">_</td>
      <td onclick="change_td(7,3)" width="30" height = "30">_</td>
      <td onclick="change_td(7,4)" width="30" height = "30">_</td>
      <td onclick="change_td(7,5)" width="30" height = "30">_</td>
      <td onclick="change_td(7,6)" width="30" height = "30">_</td>
      <td onclick="change_td(7,7)" width="30" height = "30">_</td>
      <td onclick="change_td(7,8)" width="30" height = "30">_</td>
      <td onclick="change_td(7,9)" width="30" height = "30">_</td>
      <td onclick="change_td(7,10)" width="30" height = "30">_</td>
      <td onclick="change_td(7,11)" width="30" height = "30">_</td>
      <td onclick="change_td(7,12)" width="30" height = "30">_</td>
      <td onclick="change_td(7,13)" width="30" height = "30">_</td>
      <td onclick="change_td(7,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(8,0)" width="30" height = "30">_</td>
      <td onclick="change_td(8,1)" width="30" height = "30">_</td>
      <td onclick="change_td(8,2)" width="30" height = "30">_</td>
      <td onclick="change_td(8,3)" width="30" height = "30">_</td>
      <td onclick="change_td(8,4)" width="30" height = "30">_</td>
      <td onclick="change_td(8,5)" width="30" height = "30">_</td>
      <td onclick="change_td(8,6)" width="30" height = "30">_</td>
      <td onclick="change_td(8,7)" width="30" height = "30">_</td>
      <td onclick="change_td(8,8)" width="30" height = "30">_</td>
      <td onclick="change_td(8,9)" width="30" height = "30">_</td>
      <td onclick="change_td(8,10)" width="30" height = "30">_</td>
      <td onclick="change_td(8,11)" width="30" height = "30">_</td>
      <td onclick="change_td(8,12)" width="30" height = "30">_</td>
      <td onclick="change_td(8,13)" width="30" height = "30">_</td>
      <td onclick="change_td(8,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(9,0)" width="30" height = "30">_</td>
      <td onclick="change_td(9,1)" width="30" height = "30">_</td>
      <td onclick="change_td(9,2)" width="30" height = "30">_</td>
      <td onclick="change_td(9,3)" width="30" height = "30">_</td>
      <td onclick="change_td(9,4)" width="30" height = "30">_</td>
      <td onclick="change_td(9,5)" width="30" height = "30">_</td>
      <td onclick="change_td(9,6)" width="30" height = "30">_</td>
      <td onclick="change_td(9,7)" width="30" height = "30">_</td>
      <td onclick="change_td(9,8)" width="30" height = "30">_</td>
      <td onclick="change_td(9,9)" width="30" height = "30">_</td>
      <td onclick="change_td(9,10)" width="30" height = "30">_</td>
      <td onclick="change_td(9,11)" width="30" height = "30">_</td>
      <td onclick="change_td(9,12)" width="30" height = "30">_</td>
      <td onclick="change_td(9,13)" width="30" height = "30">_</td>
      <td onclick="change_td(9,14)" width="30" height = "30">_</td>
    </tr>

      
    <tr>
      <td onclick="change_td(10,0)" width="30" height = "30">_</td>
      <td onclick="change_td(10,1)" width="30" height = "30">_</td>
      <td onclick="change_td(10,2)" width="30" height = "30">_</td>
      <td onclick="change_td(10,3)" width="30" height = "30">_</td>
      <td onclick="change_td(10,4)" width="30" height = "30">_</td>
      <td onclick="change_td(10,5)" width="30" height = "30">_</td>
      <td onclick="change_td(10,6)" width="30" height = "30">_</td>
      <td onclick="change_td(10,7)" width="30" height = "30">_</td>
      <td onclick="change_td(10,8)" width="30" height = "30">_</td>
      <td onclick="change_td(10,9)" width="30" height = "30">_</td>
      <td onclick="change_td(10,10)" width="30" height = "30">_</td>
      <td onclick="change_td(10,11)" width="30" height = "30">_</td>
      <td onclick="change_td(10,12)" width="30" height = "30">_</td>
      <td onclick="change_td(10,13)" width="30" height = "30">_</td>
      <td onclick="change_td(10,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(11,0)" width="30" height = "30">_</td>
      <td onclick="change_td(11,1)" width="30" height = "30">_</td>
      <td onclick="change_td(11,2)" width="30" height = "30">_</td>
      <td onclick="change_td(11,3)" width="30" height = "30">_</td>
      <td onclick="change_td(11,4)" width="30" height = "30">_</td>
      <td onclick="change_td(11,5)" width="30" height = "30">_</td>
      <td onclick="change_td(11,6)" width="30" height = "30">_</td>
      <td onclick="change_td(11,7)" width="30" height = "30">_</td>
      <td onclick="change_td(11,8)" width="30" height = "30">_</td>
      <td onclick="change_td(11,9)" width="30" height = "30">_</td>
      <td onclick="change_td(11,10)" width="30" height = "30">_</td>
      <td onclick="change_td(11,11)" width="30" height = "30">_</td>
      <td onclick="change_td(11,12)" width="30" height = "30">_</td>
      <td onclick="change_td(11,13)" width="30" height = "30">_</td>
      <td onclick="change_td(11,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(12,0)" width="30" height = "30">_</td>
      <td onclick="change_td(12,1)" width="30" height = "30">_</td>
      <td onclick="change_td(12,2)" width="30" height = "30">_</td>
      <td onclick="change_td(12,3)" width="30" height = "30">_</td>
      <td onclick="change_td(12,4)" width="30" height = "30">_</td>
      <td onclick="change_td(12,5)" width="30" height = "30">_</td>
      <td onclick="change_td(12,6)" width="30" height = "30">_</td>
      <td onclick="change_td(12,7)" width="30" height = "30">_</td>
      <td onclick="change_td(12,8)" width="30" height = "30">_</td>
      <td onclick="change_td(12,9)" width="30" height = "30">_</td>
      <td onclick="change_td(12,10)" width="30" height = "30">_</td>
      <td onclick="change_td(12,11)" width="30" height = "30">_</td>
      <td onclick="change_td(12,12)" width="30" height = "30">_</td>
      <td onclick="change_td(12,13)" width="30" height = "30">_</td>
      <td onclick="change_td(12,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(13,0)" width="30" height = "30">_</td>
      <td onclick="change_td(13,1)" width="30" height = "30">_</td>
      <td onclick="change_td(13,2)" width="30" height = "30">_</td>
      <td onclick="change_td(13,3)" width="30" height = "30">_</td>
      <td onclick="change_td(13,4)" width="30" height = "30">_</td>
      <td onclick="change_td(13,5)" width="30" height = "30">_</td>
      <td onclick="change_td(13,6)" width="30" height = "30">_</td>
      <td onclick="change_td(13,7)" width="30" height = "30">_</td>
      <td onclick="change_td(13,8)" width="30" height = "30">_</td>
      <td onclick="change_td(13,9)" width="30" height = "30">_</td>
      <td onclick="change_td(13,10)" width="30" height = "30">_</td>
      <td onclick="change_td(13,11)" width="30" height = "30">_</td>
      <td onclick="change_td(13,12)" width="30" height = "30">_</td>
      <td onclick="change_td(13,13)" width="30" height = "30">_</td>
      <td onclick="change_td(13,14)" width="30" height = "30">_</td>
    </tr>

    <tr>
      <td onclick="change_td(14,0)" width="30" height = "30">_</td>
      <td onclick="change_td(14,1)" width="30" height = "30">_</td>
      <td onclick="change_td(14,2)" width="30" height = "30">_</td>
      <td onclick="change_td(14,3)" width="30" height = "30">_</td>
      <td onclick="change_td(14,4)" width="30" height = "30">_</td>
      <td onclick="change_td(14,5)" width="30" height = "30">_</td>
      <td onclick="change_td(14,6)" width="30" height = "30">_</td>
      <td onclick="change_td(14,7)" width="30" height = "30">_</td>
      <td onclick="change_td(14,8)" width="30" height = "30">_</td>
      <td onclick="change_td(14,9)" width="30" height = "30">_</td>
      <td onclick="change_td(14,10)" width="30" height = "30">_</td>
      <td onclick="change_td(14,11)" width="30" height = "30">_</td>
      <td onclick="change_td(14,12)" width="30" height = "30">_</td>
      <td onclick="change_td(14,13)" width="30" height = "30">_</td>
      <td onclick="change_td(14,14)" width="30" height = "30">_</td>
    </tr>

　　</table>

  <br>
<input type="button" value="Play again!!!!" style="font-size:30pt ; width:360px ; height:60px ; border:2px ;color:#ffff00 ;background-color:blue" onclick="Init()" >

</body>


<script type="text/javascript">
  
var gred = 15;
var bf2=0.001;
var bf1=0.0001;
var bf=0.001;
var ff=8.89;
var hf=0.0001;
var i,j,k;
var dx,dy;

var map = new Array(gred);

// var tab = [60,595,8000,2396746];
// var tab2 = [60,595,4721,299593];
var tab = [200,400,2000,10000];
var tab2 = [210,420,2100,20000];


Init();

function Init()
{
    for(i=0;i<gred;i++)
    { 
      map[i] = new Array(gred);
    }
    for (var i = 0; i < gred; i++)
    {
        for (var j = 0; j < gred; j++)
        {
            map[i][j]=0;
            document.getElementById("stb").rows[i].cells[j].innerHTML = "<img src='https://i.imgur.com/hG0giS4.png' width=30 height=30>";
        }
    }

    document.getElementById("stb").rows[7].cells[8].innerHTML = "<img src='http://www.solidbackgrounds.com/images/2560x1440/2560x1440-black-solid-color-background.jpg' width=30 height=30>";
    
    document.getElementById("stb").rows[5].cells[7].innerHTML = "<img src='http://www.solidbackgrounds.com/images/2560x1440/2560x1440-black-solid-color-background.jpg' width=30 height=30>";
  
    document.getElementById("stb").rows[9].cells[7].innerHTML = "<img src='http://www.solidbackgrounds.com/images/2560x1440/2560x1440-black-solid-color-background.jpg' width=30 height=30>";

    document.getElementById("stb").rows[8].cells[9].innerHTML = "<img src='http://www.solidbackgrounds.com/images/2560x1440/2560x1440-black-solid-color-background.jpg' width=30 height=30>";
    
    document.getElementById("stb").rows[8].cells[5].innerHTML = "<img src='http://www.solidbackgrounds.com/images/2560x1440/2560x1440-black-solid-color-background.jpg' width=30 height=30>";
    
    document.getElementById("stb").rows[9].cells[5].innerHTML = "<img src='http://www.solidbackgrounds.com/images/2560x1440/2560x1440-black-solid-color-background.jpg' width=30 height=30>";

    document.getElementById("stb").rows[4].cells[10].innerHTML = "<img src='http://www.solidbackgrounds.com/images/2560x1440/2560x1440-black-solid-color-background.jpg' width=30 height=30>";
    document.getElementById("stb").rows[6].cells[5].innerHTML = "<img src='http://www.solidbackgrounds.com/images/2560x1440/2560x1440-black-solid-color-background.jpg' width=30 height=30>";



    dx=7;
    dy=7;
    map[7][7]=-1;
    change_tdX(7,7);
}


function change_td(x,y)
{
  if(map[x][y]==0)
  {
    map[x][y]=1;
    document.getElementById("stb").rows[x].cells[y].innerHTML = "<img src='https://i.imgur.com/0SM64E8.png' width=30 height=30>";
    if(check(x,y,1)==1)
    {
      winner(1);
    }
    if(find()==0)
    {
      random1(x,y);
    }
    map[dx][dy]=-1;
    change_tdX(dx,dy);
    if(check(dx,dy,-1)==1)
    {
      winner(-1);
    }   
  }
  else
    alert("不能下在同一格喲 :D");
}

function change_tdX(x,y)
{
  document.getElementById("stb").rows[x].cells[y].innerHTML = "<img src='https://i.imgur.com/Jtj5CLD.png' width=30 height=30>";
}

function check( x, y, s)
{
  var count=-1;
  var a=0,b=0,c=0;
  for(i=x;i>x-5&&i>=0;i--)
  {
    if(map[i][y]!=s)
    {
      if(map[i][y]==0)c++;
      break;
    }
    else count++;
  }
  for(i=x;i<x+5&&i<gred;i++)
  {
    if(map[i][y]!=s)
    {
      if(map[i][y]==0)c++;
      break;
    }
    else count++;
  }
  if(count>=5) return 1;
  else if(count==4&&c==2)return 2;
  else {count=-1;c=0;}
  for(i=y;i>y-5&&i>=0;i--)
  {
    if(map[x][i]!=s)
    {
      if(map[x][i]==0)c++;
      break;
    }
    else count++;
  }
  for(i=y;i<y+5&&i<gred;i++)
  {
    if(map[x][i]!=s)
    {
      if(map[x][i]==0)c++;
      break;
    }
    else count++;
  }
  if(count>=5) return 1;
  else if(count==4&&c==2)return 2;
  else {count=-1;c=0;}
  for(a=x,b=y;a>x-5&&a>=0&&b>=0;a--,b--)
       {
          if(map[a][b]!=s)
      {
        if(map[a][b]==0)c++;
        break;
      }
      else count++;
       }
    for(a=x,b=y;a<x+5&&a<gred&&b<gred;a++,b++)
       {
          if(map[a][b]!=s)
      {
        if(map[a][b]==0)c++;
        break;
      }
      else count++;
       }
    if(count>=5) return 1;
    else if(count==4&&c==2)return 2;
  else {count=-1;c=0;}
  for(a=x,b=y;a>x-5&&a>=0&&b<gred;a--,b++)
       {
          if(map[a][b]!=s)
      {
        if(map[a][b]==0)c++;
        break;
      }
      else count++;
       }
    for(a=x,b=y;a<x+5&&a<gred&&b>=0;a++,b--)
       {
          if(map[a][b]!=s)
      {
        if(map[a][b]==0)c++;
        break;
      }
      else count++;;
       }
       if(count>=5) return 1;
       else if(count==4&&c==2)return 2;
     return 0;  
}


function cost( x, y, s, tab1 , d)
{
  var a=0,b=0;
  var temp1=1;
  var temp2=0;
  var t=map[x][y];
  map[x][y]=s;

  if((y-1)<0 || map[x][y-1]==0)
      temp2--;
  if((y+1)>=gred || map[x][y+1]==0)
      temp2--;
  if((x-1)<0 || map[x-1][y]==0)
      temp2--;
  if((x+1)>=gred || map[x+1][y]==0)
      temp2--;
  if((x-1)<0 || (y-1)<0 || map[x-1][y-1]==0)
      temp2--;
  if((x+1)>=gred || (y+1)>=gred || map[x+1][y+1]==0)
      temp2--;
  if((x-1)<0 || (y+1)>=gred || map[x-1][y+1]==0)
      temp2--;
  if((x+1)>=gred || (y-1)<0 || map[x+1][y-1]==0)
      temp2--;

  for(a=y-1;a>y-5&&a>=0;a--)
  {
    if(map[x][a]==s)
      temp1++;
    else if(map[x][a]==(-1*s))
    {
      if(a+1!=y)
      temp2--;
      break;
    }
  }
  for(a=y+1;a<y+5&&a<gred;a++)
  {
    if(map[x][a]==s)
      temp1++;
    else if(map[x][a]==(-1*s))
    {
      if(a-1!=y)
        temp2--;
      break;
    }
  }
  if(temp1>=2)
    temp2+=tab1[temp1-2];
  temp1=1;

  for(a=x-1;a>x-5&&a>=0;a--)
  {
    if(map[a][y]==s)
      temp1++;
    else if(map[a][y]==(-1*s))
    {
      if(a+1!=x)
        temp2--;
      break;
    }
  }
  for(a=x+1;a<x+5&&a<gred;a++)
  {
    if(map[a][y]==s)
      temp1++;
    else if(map[a][y]==(-1*s))
    {
      if(a-1!=x)
        temp2--;
      break;
    }
  }
  if(temp1>=2)
    temp2+=tab1[temp1-2];
  temp1=1;
  for(a=x-1,b=y-1;a>x-5&&a>=0&&b>=0;a--,b--)
       {
          if(map[a][b]==s)
        temp1++;
      else if(map[a][b]==(-1*s))
      {
        if(a+1!=x&&b+1!=y)
          temp2--;
      break;
      }
       }
    for(a=x+1,b=y+1;a<x+5&&a<gred&&b<gred;a++,b++)
       {
          if(map[a][b]==s)
        temp1++;
      else if(map[a][b]==(-1*s))
      {
        
        if(a-1!=x&&b-1!=y)
            temp2--;
      break;
      }
       }
    if(temp1>=2)
    temp2+=tab1[temp1-2];
  temp1=1;
  for(a=x-1,b=y+1;a>x-5&&a>=0&&b<gred;a--,b++)
       {
          if(map[a][b]==s)
        temp1++;
      else if(map[a][b]==(-1*s))
      {
        if(a+1!=x&&b-1!=y)
          temp2--;
      break;
      }
       }
    for(a=x+1,b=y-1;a<x+5&&a<gred&&b>=0;a++,b--)
       {
          if(map[a][b]==s)
        temp1++;
      else if(map[a][b]==(-1*s))
      {
        if(a-1!=x&&b+1!=y)
          temp2--;
      break;
      }
       }
    if(temp1>=2)
    temp2+=tab1[temp1-2];
  temp1=1;
  if(temp2<=0)
  temp2=0;
  map[x][y]=t;
  return temp2;
}

function find()
{

  var x1,x2,x3,y1,y2,y3,x4,y4,x5,y5;
  var dx2,dy2,dx3,dy3,dx4,dy4;
  var temp,temp1,temp2,temp3,temp6=0,temp7=0;
  var temp5=0,temp4=0,t,t2;
  for(x1=0;x1<gred;x1++)
  for(y1=0;y1<gred;y1++)
  {
    if(map[x1][y1]==0)
    {
      temp1=0;
      t2=0;
      map[x1][y1]=1;
      if(check(x1,y1,1)==2)
      {
        t2=33000;
      }
      map[x1][y1]=-1;
      temp1=cost(x1,y1,1,tab,1)+t2;
      t2=0;
      if(check(x1,y1,-1)==2)
      {
        t2=33000;
      }
      temp1+=cost(x1,y1,-1,tab2,0)+t2;
      temp=0;
      for(x2=0;x2<gred;x2++)
      for(y2=0;y2<gred;y2++)
      {
        if(map[x2][y2]==0)
        {
          temp2=0;
          temp2=cost(x2,y2,1,tab2,0);
          temp2+=cost(x2,y2,-1,tab,1);
          if(temp<temp2)
          {
            temp=temp2;
            dx2=x2;
            dy2=y2;
          }
        }
      }
      map[dx2][dy2]=1;
      temp3=0;
      for(x3=0;x3<gred;x3++)
      for(y3=0;y3<gred;y3++)
      {
        if(map[x3][y3]==0)
        {
          temp2=0;
          temp2=cost(x3,y3,1,tab,1);
          temp2+=cost(x3,y3,-1,tab2,0);
          if(temp3<=temp2)
          {
            temp3=temp2;
            dx3=x3;
            dy3=y3;
          }
        }
      }
      map[dx3][dy3]=-1;
      temp6=0;
      for(x4=0;x4<gred;x4++)
      for(y4=0;y4<gred;y4++)
      {
        if(map[x4][y4]==0)
        {
          temp2=0;
          temp2=cost(x4,y4,1,tab2,0);
          temp2+=cost(x4,y4,-1,tab,1);
          if(temp6<temp2)
          {
            temp6=temp2;
            dx4=x4;
            dy4=y4;
          }
        }
      }
      map[dx3][dy3]=1;
      temp7=0;
      for(x5=0;x5<gred;x5++)
      for(y5=0;y5<gred;y5++)
      {
        if(map[x5][y5]==0)
        {
          temp2=0;
          temp2=cost(x5,y5,1,tab,1);
          temp2+=cost(x5,y5,-1,tab2,0);
          if(temp7<=temp2)
          {
            temp7=temp2;
          }
        }
      }
      map[dx4][dy4]=0;
      map[dx3][dy3]=0;
      map[dx2][dy2]=0;
      temp5=temp1*ff+bf*temp3-hf*temp-bf1*temp6+bf2*temp7;
      if(temp4<temp5)
      {
        temp4=temp5;
        dx=x1;
        dy=y1;
      }
      map[x1][y1]=0;
    }
  }
  return temp4; 
}


function random1(x, y)
{
  var t;
  //t=((int)(rand())%2)+1;
  t = Math.floor(Math.random()*2)+1;
  switch(t)
  {
  case 1:
    if(x>=gred/2)
    {
      for(i=x-1;i>=0;i--)
      {
        if(map[i][y]==0)
        {
          dx=i;
          break;
        }
      }
    }
    else
    {
      for(i=x+1;i<gred;i++)
      {
        if(map[i][y]==0)
        {
          dx=i;
          break;
        }
          }
      }
    dy=y;
    break;
    case 2:
      if(y>=gred/2)
    { 
      for(i=y-1;i>=0;i--)
      {
        if(map[x][i]==0)
        {
          dy=i;
          break;
        }
      }
    }
    else
    {
      for(i=y+1;i<gred;i++)
      {
        if(map[x][i]==0)
        {
          dy=i;
          break;
        }
        }
      }
    dx=x;
    break;
    }
}

function winner(flag)
{
  if(flag==1)
    alert("Daniel White");
    else if(flag==-1)
    alert("computer win");
    else
    alert("error");

  alert("play again");
  Init();
  Init();
}


</script>

</html>